BURST: max burst size. recv up to BURST while there is still stuff to recv.
SLEEP_NS: how many nanoseconds to feed into nanosleep. totally pointless; you
          will get 50us sleeps even with 1ns.
THRESH: sleep threshold: sleep if the previous recv burst got fewer than this
        man packets. Even with near-peak load, 40% of bursts (with max burst
        100) will get 0 packets, so it is fine to set this to 1. (Lower is
        better; setting it higher lightens CPU load at expense of average packet
        service time).

BURST / SLEEP_NS (10PM central, lowish load)
20/5 low 10s high single-digits (5 cores)
100/5 same
100/1 same

BRST / SLEEP / THRSH
100  /  1    /  10   same
500  /  1    /  10   same
1000  /  1    /  10   same
5000  /  1    /  10   same

100  /  1    /  20   same
100  /  1    /  40   same
100  /  1    /  5   same
100  /  1    /  2   same

9AM central, pretty high load:
100  /  1    /  2   ~22-24%
100  /  1    /  1   same
100  /  1    /  10   same

Burst size distribution (pdf) at 10:20AM with PKT_BURST_SIZE 100, THRESH 10.
Interesting features: 0 is 40%, 1 is pretty small, and then it climbs
up to a peak around 10, and then gradually falls as it goes to 100, BUT,
100 shoots up again: nearly 1% when 99 is 0.01%. (I have repeated this
measurement a few times, and 100 always looks like that).
0       0.404955
1       0.001653
2       0.004361
3       0.008716
4       0.015040
5       0.021036
6       0.027114
7       0.031639
8       0.035126
9       0.036474
10      0.037430
11      0.036035
12      0.035120
13      0.032864
14      0.029757
15      0.027518
16      0.024722
17      0.022882
18      0.020004
19      0.017162
20      0.015368
21      0.013164
22      0.011277
23      0.009999
24      0.008622
25      0.007461
26      0.006260
27      0.005539
28      0.004537
29      0.004607
30      0.003235
31      0.003007
32      0.002602
33      0.002163
34      0.001846
35      0.001618
36      0.001137
37      0.001014
38      0.000762
39      0.000703
40      0.000697
41      0.000504
42      0.000434
43      0.000475
44      0.000451
45      0.000358
46      0.000299
47      0.000270
48      0.000217
49      0.000281
50      0.000240
51      0.000223
52      0.000199
53      0.000211
54      0.000229
55      0.000281
56      0.000240
57      0.000223
58      0.000240
59      0.000229
60      0.000223
61      0.000270
62      0.000229
63      0.000258
64      0.000281
65      0.000305
66      0.000311
67      0.000270
68      0.000275
69      0.000293
70      0.000328
71      0.000240
72      0.000229
73      0.000334
74      0.000317
75      0.000317
76      0.000340
77      0.000305
78      0.000258
79      0.000258
80      0.000270
81      0.000234
82      0.000199
83      0.000258
84      0.000281
85      0.000182
86      0.000258
87      0.000252
88      0.000234
89      0.000182
90      0.000211
91      0.000229
92      0.000217
93      0.000193
94      0.000217
95      0.000164
96      0.000170
97      0.000129
98      0.000199
99      0.000170
100     0.009284



BURST 100, THRESH 1
0       0.496362
1       0.001603
2       0.003767
3       0.007649
4       0.011779
5       0.017427
6       0.021835
7       0.026307
8       0.028248
9       0.029916
10      0.031221
11      0.030363
12      0.028814
13      0.027211
14      0.025384
15      0.023473
16      0.021200
17      0.018842
18      0.017269
19      0.015099
20      0.013005
21      0.011724
22      0.010136
23      0.009049
24      0.007565
25      0.006532
26      0.005793
27      0.005172
28      0.004209
29      0.003574
30      0.003127
31      0.002780
32      0.002541
33      0.002000
34      0.001777
35      0.001444
36      0.001266
37      0.001256
38      0.000884
39      0.000715
40      0.000665
41      0.000576
42      0.000501
43      0.000362
44      0.000382
45      0.000313
46      0.000248
47      0.000258
48      0.000238
49      0.000238
50      0.000199
51      0.000179
52      0.000228
53      0.000233
54      0.000208
55      0.000283
56      0.000184
57      0.000189
58      0.000218
59      0.000189
60      0.000154
61      0.000208
62      0.000283
63      0.000218
64      0.000233
65      0.000293
66      0.000204
67      0.000233
68      0.000248
69      0.000233
70      0.000233
71      0.000228
72      0.000233
73      0.000199
74      0.000218
75      0.000174
76      0.000218
77      0.000248
78      0.000233
79      0.000223
80      0.000258
81      0.000258
82      0.000233
83      0.000144
84      0.000189
85      0.000169
86      0.000174
87      0.000184
88      0.000194
89      0.000199
90      0.000189
91      0.000184
92      0.000139
93      0.000179
94      0.000149
95      0.000159
96      0.000179
97      0.000189
98      0.000144
99      0.000184
100     0.007580


BURST 50 THRESH 1
0       0.485437
1       0.001961
2       0.004136
3       0.007631
4       0.011481
5       0.016743
6       0.020141
7       0.024408
8       0.027020
9       0.029054
10      0.029423
11      0.028893
12      0.028626
13      0.027000
14      0.024738
15      0.022597
16      0.020957
17      0.018869
18      0.016821
19      0.014990
20      0.013588
21      0.011612
22      0.010306
23      0.009243
24      0.007961
25      0.006937
26      0.006325
27      0.005442
28      0.004869
29      0.004325
30      0.003675
31      0.003199
32      0.002927
33      0.002583
34      0.002257
35      0.001869
36      0.001665
37      0.001500
38      0.001199
39      0.001121
40      0.001170
41      0.000898
42      0.000796
43      0.000646
44      0.000612
45      0.000607
46      0.000553
47      0.000476
48      0.000456
49      0.000510
50      0.029748

BURST 80 THRESH 1
0       0.494496
1       0.001701
2       0.004248
3       0.008416
4       0.013485
5       0.019597
6       0.024750
7       0.029215
8       0.031801
9       0.033735
10      0.033952
11      0.033137
12      0.031154
13      0.028815
14      0.025620
15      0.023692
16      0.020082
17      0.018143
18      0.015938
19      0.013035
20      0.011650
21      0.009687
22      0.008515
23      0.006918
24      0.005880
25      0.004940
26      0.004297
27      0.003659
28      0.003051
29      0.002591
30      0.002240
31      0.001854
32      0.001751
33      0.001296
34      0.001088
35      0.000920
36      0.000717
37      0.000722
38      0.000499
39      0.000435
40      0.000356
41      0.000331
42      0.000262
43      0.000257
44      0.000292
45      0.000247
46      0.000267
47      0.000218
48      0.000257
49      0.000272
50      0.000208
51      0.000267
52      0.000237
53      0.000227
54      0.000232
55      0.000277
56      0.000287
57      0.000292
58      0.000252
59      0.000287
60      0.000227
61      0.000262
62      0.000272
63      0.000237
64      0.000218
65      0.000292
66      0.000302
67      0.000237
68      0.000312
69      0.000297
70      0.000316
71      0.000312
72      0.000287
73      0.000297
74      0.000287
75      0.000282
76      0.000262
77      0.000282
78      0.000232
79      0.000227
80      0.011512

NOTE: all of the above is with the "always sleep if burst < thresh" logic, not
      the "only sleep if rust took less than a certain amount of time". But,
      the two should be identical without very heavy TapDance traffic.
